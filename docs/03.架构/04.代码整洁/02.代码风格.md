---
title: 代码风格
date: 2020-08-24 14:07:49
permalink: /pages/4e04dd
categories: 
  - 架构
  - 代码整洁
tags: 
  - 代码风格
---

### 类、函数多大才合适？

- 函数的代码行数不要超过一屏幕的大小，比如 50 行。
- 类的大小限制比较难确定。
  - 太大，容易造成看了后面忘记前面。
  - 太小，容易在各个函数之间跳转，阅读体验不好，迷失方向。

### 一行代码多上最合适？

- 最好不要超过 IDE 显示的宽度，当然限制也不能太小，太小会导致很多稍微长点的语句被折成两行，影响代码的整洁，不利于阅读。
- 在 Google Java Style Guide 文档中，一行代码最长限制为 100 个字符。

### 善用空行分割单元块

- 在不方便讲一些代码块抽取成小函数的情况下，为了让逻辑更加清晰，我们可以使用空行分割各个代码块。
- 在类的成员变量与函数之间、静态成员变量与普通成员变量之间，各函数之间、甚至各成员变量之间，我们都可以通过添加空行的方式，让这些不同模块的代码之间，界限更加明确。

### 四个缩进还是两个缩进？

- 对于 Java 而言，推荐适用两格缩进，这样可以节省空间，特别在代码嵌套层次比较深的情况下。
- 不管是两格缩进还是四格缩进，一定不要用 tab 键缩进。

### 大括号是否要另起一行？

- 对于 Java 语言而言，我们一般习惯将大括号放到跟上一条语句同一行的风格，这样可以节省代码行数。
- 但是将大括号另起一行，左右括号垂直对齐，代码块更加一目了然。

### 类中成员的排列顺序

- 在 Google Java 编程规范中，import 的依赖类按照字母序从小到大排列。
- 成员变量排在函数的前面，成员变量之间或函数之间，都是按照“先静态（静态函数或静态成员变量）、后普通（非静态函数或非静态成员变量）”的方式来排列的。
- 成员变量之间或函数之间，还是会按照作用域范围从大到小的顺序来排列，先写 public，然后是 protected，最后是 private 的。